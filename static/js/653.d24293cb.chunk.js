"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{5653:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(885),a=n(9157),s=n(2791),c=n(501),u="Movies_form__mp42q",i="Movies_title__EqSqF",o="Movies_total__9D3d4",l="Movies_list__JEO-P",p="Movies_list_item__4Iyn+",f="Movies_img__CI9Z3",h="Movies_link__0oDWE",d="Movies_nav_btn__Y62U2",m=n(184),v=function(){var t=(0,s.useState)([]),e=(0,r.Z)(t,2),n=e[0],v=e[1],_=(0,s.useState)(""),x=(0,r.Z)(_,2),g=x[0],b=x[1],w=(0,s.useState)(!1),y=(0,r.Z)(w,2),j=y[0],k=y[1],Z=(0,s.useState)(!1),N=(0,r.Z)(Z,2),S=N[0],M=N[1],C=(0,s.useState)(1),B=(0,r.Z)(C,2),E=B[0],Q=B[1],q=(0,s.useState)(1),D=(0,r.Z)(q,2),F=D[0],U=D[1],I=(0,s.useState)(0),L=(0,r.Z)(I,2),P=L[0],R=L[1],Y=(0,c.lr)(),H=(0,r.Z)(Y,2),J=H[0],O=H[1],W=J.get("search"),z=J.get("page");return(0,s.useEffect)((function(){W&&z?(0,a.QB)(W,z).then((function(t){v(t.results),U(t.total_pages),R(t.total_results),k(!1)})).catch((function(t){M(!0),k(!1)})):(b(""),v([]),R(0),U(1))}),[W,z]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{className:u,onSubmit:function(t){t.preventDefault(),g&&(O({search:g,page:E}),k(!0),M(!1),v([]),Q(1),U(1),R(0),(0,a.QB)(g,E).then((function(t){v(t.results),U(t.total_pages),R(t.total_results),k(!1)})).catch((function(t){M(!0),k(!1)})))},children:[(0,m.jsx)("input",{type:"text",value:g,onChange:function(t){return b(t.target.value)}}),(0,m.jsx)("button",{type:"submit",children:"Search"})]}),j&&(0,m.jsx)("div",{children:"Loading..."}),S&&(0,m.jsx)("div",{children:"Error"}),n&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h1",{className:i,children:"Results"}),(0,m.jsxs)("p",{className:o,children:[P," results found"]}),(0,m.jsx)("ul",{className:l,children:n&&n.map((function(t){return(0,m.jsxs)("li",{className:p,children:[t.poster_path&&(0,m.jsx)("img",{className:f,src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title}),(0,m.jsx)(c.rU,{className:h,to:"/movies/".concat(t.id),children:t.title})]},t.id)}))}),(0,m.jsx)("button",{className:d,onClick:function(){E>1&&(Q(E-1),O({search:g,page:E-1}),(0,a.QB)(g,E-1).then((function(t){v(t.results)})).catch((function(t){M(!0)})))},disabled:1===E,children:"Previous"}),(0,m.jsx)("button",{className:d,onClick:function(){E<F&&(Q(E+1),O({search:g,page:E+1}),(0,a.QB)(g,E+1).then((function(t){v(n.concat(t.results))})).catch((function(t){M(!0)})))},disabled:E===F,children:"Next"})]})]})}},9157:function(t,e,n){n.d(e,{Hx:function(){return _},QB:function(){return p},Y5:function(){return h},wr:function(){return o},xc:function(){return m}});var r=n(5861),a=n(7757),s=n.n(a),c=n(4569),u=n.n(c);u().defaults.baseURL="https://api.themoviedb.org/3/";var i="api_key=b34281a335cdd1f5098a9d04801c5c05";function o(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("/trending/movie/day?".concat(i));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(s().mark((function t(e,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("/search/movie?".concat(i,"&query=").concat(e,"&page=").concat(n));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("/movie/".concat(e,"?").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("/movie/".concat(e,"/credits?").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u().get("/movie/".concat(e,"/reviews?").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=653.d24293cb.chunk.js.map